!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,n){"use strict";var o,i,r,a,s,c,u,d,l,m,p,g,f,v,y,h,b,L,w,S,q,k,P,M,x,E,T;i=document.querySelector(".alpha"),a=SC.Widget(document.querySelector(".audio-player iframe")),r=null,s=document.querySelector(".beta"),c=document.querySelector(".list"),u={alpha:{wrap:i,bg:i.querySelector(".bg"),image:i.querySelector(".image"),map:i.querySelector(".map"),video:i.querySelector(".video"),videoFrame:i.querySelector(".video-frame")},beta:{wrap:s,bg:s.querySelector(".bg"),image:s.querySelector(".image"),map:s.querySelector(".map"),video:s.querySelector(".video"),videoFrame:s.querySelector(".video-frame")}},d=0,l=content[d],f=u.beta,h=content[d+1],b=document.querySelector(".play-toggle"),L=document.querySelector(".progress"),M=document.querySelector(".time"),T=u.alpha,E="transitionend",o=function(){var e;return d+=1,l=content[d],e=d+1,e<content.length&&(h=content[e]),i.classList.contains("is-active")?(T=u.beta,f=u.alpha):(T=u.alpha,f=u.beta),T.wrap.classList.add("is-active"),f.wrap.classList.add("is-exiting"),f.wrap.classList.remove("is-active"),$(T.wrap).on(E,function(){if($(T.wrap).off(E),f.wrap.classList.remove("is-exiting"),h)return q(f,h)})},v=function(){return a.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){if(k(e.relativePosition,e.currentPosition),h&&e.currentPosition>=h.start)return h=null,o()}),a.bind(SC.Widget.Events.SEEK,function(e){return k(e.relativePosition,e.currentPosition),P(e.currentPosition)}),a.bind(SC.Widget.Events.PAUSE,function(){return document.body.classList.remove("playing"),document.body.classList.add("paused"),b.innerHTML="play"}),a.bind(SC.Widget.Events.PLAY,function(){return document.body.classList.add("playing"),document.body.classList.remove("paused"),b.innerHTML="pause"})},y=function(e,t){var n,o,i;return n=new google.maps.LatLng(t.lat,t.long),i={position:n,pov:{heading:t.heading,pitch:t.pitch},zoom:1},o=new google.maps.StreetViewPanorama(e.map,i),o.setVisible(!0)},m=function(e){var t,n,o,i;return i=e/1e3,i%=3600,t=Math.floor(i/60),n=Math.floor(i%60),t<10&&(t="0"+t),n<10&&(n="0"+n),o="",o+=t+":",o+=n},p=function(e){var t,n,o,i;for(d=0,n=t=0,i=content.length;t<i;n=++t)o=content[n],e>=o.start&&(d=n);return d},g=function(e){return"<iframe width='420' height='315' src='//www.youtube.com/embed/"+e+"?rel=0&loop=1&autoplay=1&controls=0&playsinline=1&modestbranding=1&playlist="+e+"' frameborder='0'></iframe>"},P=function(e){var t;if(d=p(e),l=content[d],t=d+1,q(T,l),t<content.length)return h=content[t],q(f,h)},q=function(e,t){var n,o,i,r,a,s;for(o=!1,e.bg.src=t.image,t.video?(e.videoFrame.innerHTML=g(t.youtube),e.video.classList.remove("is-hidden"),e.image.classList.add("is-hidden"),e.wrap.style.background=t.color,n="video"):t.image&&(t.lat?(o=!0,y(e,t),e.map.classList.remove("is-hidden"),e.image.classList.add("is-hidden"),n="map"):(e.image.src=t.image,e.image.classList.remove("is-hidden"),n="image"),e.videoFrame.innerHTML="",e.video.classList.add("is-hidden"),e.wrap.style.background=""),o||(e.map.classList.add("is-hidden"),e.map.innerHTML=""),"video"===n?"image":"video",a=["image","map","video"],i=0,r=a.length;i<r;i++)(s=a[i])!==n&&e.wrap.classList.remove("is-"+s);return e.wrap.classList.add("is-"+n)},k=function(e,t){return L.style.width=100*e+"%",M.innerHTML=m(t)},w=function(e){var t;return t=content[e].start,a.play(),a.seekTo(t)},S=function(e){return r?a.seekTo(r*e):a.getDuration(function(t){return r=t,S(e)})},x=function(){return c.classList.toggle("is-hidden"),document.body.classList.toggle("showing-chapters"),c.classList.contains("is-hidden")?$(window).off("keyup.chapters"):$(window).on("keyup.chapters",function(e){if(27===e.keyCode)return x()})},$(function(){return q(T,content[0]),q(f,content[1]),v(),$(".intro").on("click",function(){return document.body.classList.remove("not-played"),a.play()}),$(b).on("click",function(){return a.toggle()}),$(".chapters-toggle").on("click",function(){return x()}),$(".chapter-link").on("click",function(){var e;return e=this.getAttribute("data-index"),x(),document.body.classList.remove("not-played"),w(e)}),$(window).on("keyup.global",function(e){if(32===e.keyCode)return document.body.classList.remove("not-played"),a.toggle()}),$(".seek-bar").on("click",function(e){var t,n,o;if(t=$(e.target),n=t.offset(),o=e.clientX-n.left)return S(o/this.offsetWidth)})})}]);